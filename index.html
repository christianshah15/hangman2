<!DOCTYPE html>
<html>
<head>
  <title>Hangman</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      var total_guesses = 10;
      var word = "f i s h";
      var blanks = "_ _ _ _";
      var guesses = "";

      $("#word").html(blanks);

      $(".letter").click(function() {
        var id = $(this).attr('id');
        console.log("Clicked on " + id);

        if (guesses.includes(id)) {
          $("#error_msg").html("You already guessed " + id);
        } else {
          guesses = guesses + id;
          $("#" + id).css('text-decoration', 'line-through');

          total_guesses = total_guesses - 1;
          if (total_guesses < 0) {
            $("#error_msg").html("You are out of guesses. YOU LOSE!");
          } else {
            $("#numleft").html(total_guesses);

            if (word.includes(id)) {
              var index = word.indexOf(id);
              console.log("letter " + id + " id at index " + index);
              blanks = blanks.substr(0, index) + id + blanks.substr(index + 1);
              $("#word").html(blanks);
            }
            if (blanks === word) {
              $("#error_msg").text("YOU WON!!!");
            }
          }
        }
      });
    });
  </script>
</head>
<body>
  <h1>Hangman!</h1>

  <div id="chances">
    <p>You have <span id="numleft">10</span> chances left.</p>
  </div>

  <div id="wordspace">
    <p>The word to guess is <span id="word" style="font-weight: bold;"></span></p>
  </div>

  <div id="entry">
    <p>Click on a letter to make a guess.</p>
    <p>
      <!-- ...span elements for each letter... -->
    </p>
  </div>

  <div id="error_msg" style="color: red;"></div>
</body>
</html>
